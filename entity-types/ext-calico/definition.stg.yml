domain: EXT
type: CALICO
synthesis:
  rules:
    - identifier: app.kubernetes.io/name
      name: app.kubernetes.io/name
      encodeIdentifierInGUID: true
      conditions:
        - attribute: metricName
          prefix: "felix_cluster_"
  tags:
    # open telemetry attributes
    k8s.pod.name:
      entityTagName: k8s.podName
    k8s.cluster.name:
      entityTagName: k8s.clusterName
    k8s.namespace.name:
      entityTagName: k8s.namespaceName
    # prometheus attributes
    namespace:
      entityTagName: k8s.namespaceName
    pod:
      entityTagName: "k8s.podName"
    cluster_name:
      entityTagName: k8s.clusterName
    node:
      entityTagName: k8s.nodeName

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true
