requestRate:
  title: Request rate
  unit: REQUESTS_PER_SECOND
  query:
    select: rate(sum(istio_requests_total), 1 MINUTE)
    from: Metric
    where: destination_workload="istio-ingressgateway" AND reporter = 'destination'

responseTime:
  title: Response time
  unit: MS
  query:
    select: percentile(istio_request_duration_milliseconds, 95)
    where: destination_workload="istio-ingressgateway" AND reporter = 'destination'
    from: Metric

upstreamResponseTime:
  title: Upstream service response time
  unit: MS
  query:
    select: istio_upstream_service_time_seconds
    where: destination_workload="istio-ingressgateway" AND reporter = 'source'
    from: Metric

errorRate:
  title: Error rate
  unit: PERCENTAGE
  query:
    select: filter(count(istio_requests_total), WHERE response_code LIKE '5%') / count(istio_requests_total) * 100
    from: Metric
    where: destination_workload="istio-ingressgateway" AND reporter = 'destination'
