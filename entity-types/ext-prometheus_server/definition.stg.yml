domain: EXT
type: PROMETHEUS_SERVER
synthesis:
  rules:
    - identifier: app_kubernetes_io_name
      name: app_kubernetes_io_name
      encodeIdentifierInGUID: true
      conditions:
        - attribute: metricName
          prefix: "prometheus_"
  tags:
    cluster_name:
      entityTagName: k8s.clusterName
    namespace:
      entityTagName: k8s.namespaceName
    node:
      entityTagName: k8s.nodeName
    pod:
      entityTagName: k8s.podName

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true
